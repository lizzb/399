<!DOCTYPE html>

<html>
<head>

    <meta charset="utf-8">
    <!-- 
    http://codepen.io/javve/pen/zpuKF 
    javve List.js codepen existing list
    -->
    
    <title>Example from list.js | Existing list | CodePen</title>

    <link href="./style/style399.css" media="screen" rel="stylesheet" type=
    "text/css">

    <script src="js/list.js"></script>
    <script src="./js/week4list.js"></script>

</head>

<body>
  Current sort: <span id="currentsorting">none</span> &nbsp;&nbsp;&nbsp;&nbsp;
Current filter: <span id="currentfilter">none</span><br>
  <div id="companies">
    <input class="search" placeholder="Search" />
    <br>
    <button class="sort" data-sort="name"> Sort by name </button>
    <button class="sort" data-sort="booth"> Sort by booth/table </button>
    <br>

    
    <!--span class="filter" onclick="filterBy('name')"> Filter name </span>
    <span class="filter" onclick="filterBy('name')"> Filter name </span-->

    <button class="filter jobtype" data-filter='intern' onclick="filterBy('intern')"> Filter intern </button>
    <button class="filter jobtype" onclick="filterBy('fte')"> Filter fulltime </button>
    <button class="filter jobtype" onclick="filterBy('msphd')"> Filter ms phd </button>
    <button class="filter jobtype" onclick="filterBy('coop')"> Filter coop </button>

    <br><br>

    <button class="filter major" onclick="filterBy('am')"> AM </button>
    <button class="filter major" onclick="filterBy('bme')"> BME </button>
    <button class="filter major" onclick="filterBy('chem')"> Chem </button>
    <button class="filter major" onclick="filterBy('civil')"> Civil </button>
    <button class="filter major" onclick="filterBy('ce')"> CE </button>
    <button class="filter major" onclick="filterBy('cs')"> CS </button>
    <button class="filter major" onclick="filterBy('ee')"> EE </button>
    <button class="filter major" onclick="filterBy('enve')"> EnvE </button>
    <button class="filter major" onclick="filterBy('ie')"> IE </button>
    <button class="filter major" onclick="filterBy('made')"> MaDE </button>
    <button class="filter major" onclick="filterBy('matsci')"> Matsci </button>
    <button class="filter major" onclick="filterBy('mech')"> Mech </button>
    <button class="filter major" onclick="filterBy('noneng')"> Non-eng </button>

    <button class="filter" onclick="clearFilters()">Clear filters </button>

    <!-- 

  am, bme, chem, civil, ce, cs, ee, enve, ie, made, matsci, mech, noneng,

    onchange=checkfilters
    function checkfield -->

    <!--

    <input type="button" class="filter sort" onclick="filterBy('intern')" /> Filter intern </span> 

    <button class="filter" onclick="filterBy('intern')"> Filter intern </button>
    <br>

    <label>Intern</label>
    <input type="checkbox" id='intern-filter' value='intern' onchange="if(this.checked) filterBy(this.value); else filterBy('');"/>

    <label>Intern</label>
    <input type="checkbox" id='intern-filter' value='intern' onchange="filterBy(this.value, this.checked)"/>
 -->


    <ul class="list"></ul>

  </div>



  <script>
var options = {
  valueNames: [ 'name', 'booth', 'room', 'intern', 'coop', 'fte', 'msphd' ],
  item: '<li>' +
        '<h3 class="name"></h3>' +
        '<span class="booth"></span>' +
        ' Intern:<span class="intern"></span> &nbsp;&nbsp&nbsp;&nbsp;'+
        ' FTE:<span class="fte"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        ' Coop:<span class="coop"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        ' MS PhD:<span class="msphd"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        ' <br>' +
        'am:<span class="am"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'bme:<span class="bme"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'chem:<span class="chem"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'civil:<span class="civil"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'ce:<span class="ce"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'cs:<span class="cs"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'ee:<span class="ee"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'enve:<span class="enve"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'ie:<span class="ie"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'made:<span class="made"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'matsci:<span class="matsci"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'mech:<span class="mech"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        'noneng:<span class="noneng"></span>  &nbsp;&nbsp&nbsp;&nbsp;'+
        '</li>'
};

/* civil = ce --> computer engineering instead of cmpe
chem = che --> chem(E?)
mse = matsci
me / meche... permanent vs full time
 */

 /* to get company list into json format:
saved as .csv from excel
used this lovely tool: http://www.convertcsv.com/csv-to-json.htm
and put it in a separate js file. woohoo!
but then i needed to change a bunch of values... 
since majors are a boolean filter, "" is understood as 0/false, 
but "1" is not understood as 1/true.
so did simple find replace in the .csv file
need to figure out an excel trick to help me replace all "x" s with 1 and 0
*/

var companyList = new List('companies', options, values); // should be ... but options... defined in week4list.js


function displayCurrentSort(valueName)
{
  document.getElementById('currentsorting').innerHTML = valueName;
}

function displayCurrentFilter(valueName)
{
  document.getElementById('currentfilter').innerHTML = valueName + ' ' + companyList.filtered;
}



//var filters = [filterFunc1, filterFunc2, filterFunc3];
var activeFilters = [];

function clearFilters()
{
  companyList.filter();
  document.getElementById('currentfilter').innerHTML = 'none';
}



function filterBy(valueName, active)
{
    if (valueName == '') companyList.filter(); //clearfilters

    // check if the valueName is one of the names
    // in the options.valueNames list
    // if it is, should be correctly spelled/formatted
    // - feed right in
    // pretty hacky for now... i should use jquery... but its slow...

    // not using switch right now because might want multiple else if

    if (valueName == 'intern') {
        //companyList.filter(filterIntern);
        companyList.filter(function(item){ return item.values().intern == true });
    }
    if (valueName == 'fte') {
        //companyList.filter(filterFTE);
        companyList.filter(function(item){ return item.values().fte == true });
    }
    if (valueName == 'coop') {
        //companyList.filter(filterCoop);
        companyList.filter(function(item){ return item.values().coop == true });
    }
    if (valueName == 'msphd') {
        //companyList.filter(filterMSPhD);
        companyList.filter(function(item){ return item.values().msphd == true });
    }

    if (valueName == 'am') {
        companyList.filter(function(item){ return item.values().am == true });
    }

    if (valueName == 'bme') {
        companyList.filter(function(item){ return item.values().bme == true });
    }

    if (valueName == 'chem') {
        companyList.filter(function(item){ return item.values().chem == true });
    }

    if (valueName == 'civil') {
        companyList.filter(function(item){ return item.values().civil == true });
    }

    if (valueName == 'ce') {
        companyList.filter(function(item){ return item.values().ce == true });
    }

    if (valueName == 'cs') {
        companyList.filter(function(item){ return item.values().cs == true });
    }

    if (valueName == 'ee') {
        companyList.filter(function(item){ return item.values().ee == true });
    }

    if (valueName == 'enve') {
        companyList.filter(function(item){ return item.values().enve == true });
    }

    if (valueName == 'ie') {
        companyList.filter(function(item){ return item.values().ie == true });
    }

    if (valueName == 'made') {
        companyList.filter(function(item){ return item.values().made == true });
    }

    if (valueName == 'matsci') {
        companyList.filter(function(item){ return item.values().matsci == true });
    }

    if (valueName == 'mech') {
        companyList.filter(function(item){ return item.values().mech == true });
    }

    if (valueName == 'noneng') {
        companyList.filter(function(item){ return item.values().noneng == true });
    }

    displayCurrentFilter(valueName);
}


  // if(active) - checked = true
  // {add to list of active filters}
  // else remove that filter from the list... 
  
  /*
  else
  {
    indexOf()...? seems inefficient

    var filterPos = activeFilters.indexOf(valueName);
  }... boolean array of all of the ppossible filters, 
  if chuse enum, if check or not checked....?
  */

//Finally filter the LIST with the array of multiple filters
//userList.filter(filters); 
  //userList.filter(activeFilters);

/*
function removeFilter(valueName)
{
  
  if()

}*/






  </script>

</body>

</html>